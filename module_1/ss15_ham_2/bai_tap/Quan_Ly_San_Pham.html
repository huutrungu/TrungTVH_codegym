<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" id="nhap" placeholder="Nhập tên sản phẩm">
<input type="button" value="Add New Product" onclick="addNewProduct()"> <br>
<span>Số lượng sản phẩm : </span><span id="soLuong"></span>
<p id="display"></p>

<script>
    let listProduct = ["Sam Sung", "Nokia", "Iphone"];
    display(listProduct);
    function addNewProduct() {
        let newName = document.getElementById('nhap').value;
        if (newName !== '') {
            listProduct.push(newName);
        } else {
            alert('Nhập tên sản phẩm!')
        }
        document.getElementById('nhap').value = '';               //để hiển thị lại khoảng trắng.
        display(listProduct);
    }

    function display(list) {
        let tableString = '<table border="1" style="border-collapse: collapse">\n' +
            '<tr>\n' +
            '<th>STT</th>\n' +
            '<th>Name</th>\n' +
            '<th>Edit</th>\n' +
            '<th>Delete</th>\n' +
            '</tr>';
        for (let i = 0; i < list.length; i++) {
            tableString += '<tr>\n' +
                '<td>' + (i + 1) + '</td>\n' +                           // hỏi lại cái qui tắc i và dấu nháy các thẻ
                '<td>' + (list[i]) + '</td>\n' +
                '<td><input type="button" value="edit" onclick="editProduct(' + i + ')"></td>\n' +
                '<td><input type="button"  value="delete" onclick="deleteProduct(' + i + ')"></td>\n' +
                '</tr>\n'
        }
        tableString += '</table>';
        document.getElementById('display').innerHTML = tableString;
        document.getElementById('soLuong').innerText = list.length;
    }

    function editProduct(index) {
        let editName = prompt('Nhập tên bạn muốn sửa: ');
        if (editName != null && editName != '') {
            listProduct[index] = editName;
        }
        display(listProduct);
    }

    function deleteProduct(index) {
        let conf = confirm('Bạn muốn xoá sp ' + listProduct[index]);
        if (conf) {
            listProduct.splice(index, 1);
        }
        display(listProduct);
    }
</script>
</body>
</html>